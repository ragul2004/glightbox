!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = e || self).GLightbox = t() }(this, (function () { "use strict"; function e(t) { return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(t) } function t(e, t, i, n, s, l, r) { try { var o = e[l](r), a = o.value } catch (e) { return void i(e) } o.done ? t(a) : Promise.resolve(a).then(n, s) } function i(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function n(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function s(e, t, i) { return t && n(e.prototype, t), i && n(e, i), e } function l(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e))) return; var i = [], n = !0, s = !1, l = void 0; try { for (var r, o = e[Symbol.iterator](); !(n = (r = o.next()).done) && (i.push(r.value), !t || i.length !== t); n = !0); } catch (e) { s = !0, l = e } finally { try { n || null == o.return || o.return() } finally { if (s) throw l } } return i }(e, t) || o(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function r(e) { return function (e) { if (Array.isArray(e)) return a(e) }(e) || function (e) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e) }(e) || o(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function o(e, t) { if (e) { if ("string" == typeof e) return a(e, t); var i = Object.prototype.toString.call(e).slice(8, -1); return "Object" === i && e.constructor && (i = e.constructor.name), "Map" === i || "Set" === i ? Array.from(e) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? a(e, t) : void 0 } } function a(e, t) { (null == t || t > e.length) && (t = e.length); for (var i = 0, n = new Array(t); i < t; i++)n[i] = e[i]; return n } function h(e, t) { var i; if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) { if (Array.isArray(e) || (i = o(e)) || t && e && "number" == typeof e.length) { i && (e = i); var n = 0, s = function () { }; return { s: s, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: s } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var l, r = !0, a = !1; return { s: function () { i = e[Symbol.iterator]() }, n: function () { var e = i.next(); return r = e.done, e }, e: function (e) { a = !0, l = e }, f: function () { try { r || null == i.return || i.return() } finally { if (a) throw l } } } } var c = Date.now(); function d() { var e = {}, t = !0, i = 0, n = arguments.length; "[object Boolean]" === Object.prototype.toString.call(arguments[0]) && (t = arguments[0], i++); for (var s = function (i) { for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (t && "[object Object]" === Object.prototype.toString.call(i[n]) ? e[n] = d(!0, e[n], i[n]) : e[n] = i[n]) }; i < n; i++) { var l = arguments[i]; s(l) } return e } function u(e, t) { if ((P(e) || e === window || e === document) && (e = [e]), X(e) || z(e) || (e = [e]), 0 != D(e)) if (X(e) && !z(e)) for (var i = e.length, n = 0; n < i && !1 !== t.call(e[n], e[n], n, e); n++); else if (z(e)) for (var s in e) if (q(e, s) && !1 === t.call(e[s], e[s], s, e)) break } function g(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = e[c] = e[c] || [], s = { all: n, evt: null, found: null }; return t && i && D(n) > 0 && u(n, (function (e, n) { if (e.eventName == t && e.fn.toString() == i.toString()) return s.found = !0, s.evt = n, !1 })), s } function v(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = t.onElement, n = t.withCallback, s = t.avoidDuplicate, l = void 0 === s || s, r = t.once, o = void 0 !== r && r, a = t.useCapture, h = void 0 !== a && a, c = arguments.length > 2 ? arguments[2] : void 0, d = i || []; function v(e) { I(n) && n.call(c, e, this), o && v.destroy() } return O(d) && (d = document.querySelectorAll(d)), v.destroy = function () { u(d, (function (t) { var i = g(t, e, v); i.found && i.all.splice(i.evt, 1), t.removeEventListener && t.removeEventListener(e, v, h) })) }, u(d, (function (t) { var i = g(t, e, v); (t.addEventListener && l && !i.found || !l) && (t.addEventListener(e, v, h), i.all.push({ eventName: e, fn: v })) })), v } function f(e, t) { u(t.split(" "), (function (t) { return e.classList.add(t) })) } function p(e, t) { u(t.split(" "), (function (t) { return e.classList.remove(t) })) } function m(e, t) { return e.classList.contains(t) } function y(e, t) { for (; e !== document.body;) { if (!(e = e.parentElement)) return !1; if ("function" == typeof e.matches ? e.matches(t) : e.msMatchesSelector(t)) return e } } function x(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; if (!e || "" === t) return !1; if ("none" == t) return I(i) && i(), !1; var n = C(), s = t.split(" "); u(s, (function (t) { f(e, "g" + t) })), v(n, { onElement: e, avoidDuplicate: !1, once: !0, withCallback: function (e, t) { u(s, (function (e) { p(t, "g" + e) })), I(i) && i() } }) } function b(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""; if ("" == t) return e.style.webkitTransform = "", e.style.MozTransform = "", e.style.msTransform = "", e.style.OTransform = "", e.style.transform = "", !1; e.style.webkitTransform = t, e.style.MozTransform = t, e.style.msTransform = t, e.style.OTransform = t, e.style.transform = t } function S(e) { e.style.display = "block" } function w(e) { e.style.display = "none" } function T(e) { var t = document.createDocumentFragment(), i = document.createElement("div"); for (i.innerHTML = e; i.firstChild;)t.appendChild(i.firstChild); return t } function k() { return { width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight } } function C() { var e, t = document.createElement("fakeelement"), i = { animation: "animationend", OAnimation: "oAnimationEnd", MozAnimation: "animationend", WebkitAnimation: "webkitAnimationEnd" }; for (e in i) if (void 0 !== t.style[e]) return i[e] } function E(e, t, i, n) { if (e()) t(); else { var s; i || (i = 100); var l = setInterval((function () { e() && (clearInterval(l), s && clearTimeout(s), t()) }), i); n && (s = setTimeout((function () { clearInterval(l) }), n)) } } function A(e, t, i) { if (Y(e)) console.error("Inject assets error"); else if (I(t) && (i = t, t = !1), O(t) && t in window) I(i) && i(); else { var n; if (-1 !== e.indexOf(".css")) { if ((n = document.querySelectorAll('link[href="' + e + '"]')) && n.length > 0) return void (I(i) && i()); var s = document.getElementsByTagName("head")[0], l = s.querySelectorAll('link[rel="stylesheet"]'), r = document.createElement("link"); return r.rel = "stylesheet", r.type = "text/css", r.href = e, r.media = "all", l ? s.insertBefore(r, l[0]) : s.appendChild(r), void (I(i) && i()) } if ((n = document.querySelectorAll('script[src="' + e + '"]')) && n.length > 0) { if (I(i)) { if (O(t)) return E((function () { return void 0 !== window[t] }), (function () { i() })), !1; i() } } else { var o = document.createElement("script"); o.type = "text/javascript", o.src = e, o.onload = function () { if (I(i)) { if (O(t)) return E((function () { return void 0 !== window[t] }), (function () { i() })), !1; i() } }, document.body.appendChild(o) } } } function L() { return "navigator" in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i) } function I(e) { return "function" == typeof e } function O(e) { return "string" == typeof e } function P(e) { return !(!e || !e.nodeType || 1 != e.nodeType) } function M(e) { return Array.isArray(e) } function X(e) { return e && e.length && isFinite(e.length) } function z(t) { return "object" === e(t) && null != t && !I(t) && !M(t) } function Y(e) { return null == e } function q(e, t) { return null !== e && hasOwnProperty.call(e, t) } function D(e) { if (z(e)) { if (e.keys) return e.keys().length; var t = 0; for (var i in e) q(e, i) && t++; return t } return e.length } function N(e) { return !isNaN(parseFloat(e)) && isFinite(e) } function _(e) { if (e.events.hasOwnProperty("keyboard")) return !1; e.events.keyboard = v("keydown", { onElement: window, withCallback: function (t, i) { var n = (t = t || window.event).keyCode; if (9 == n) { var s = !(!document.activeElement || !document.activeElement.nodeName) && document.activeElement.nodeName.toLocaleLowerCase(); if ("input" == s || "textarea" == s || "button" == s) return; t.preventDefault(); var l = document.querySelectorAll(".gbtn"); if (!l || l.length <= 0) return; var o = r(l).filter((function (e) { return m(e, "focused") })); if (!o.length) { var a = document.querySelector('.gbtn[tabindex="0"]'); return void (a && (a.focus(), f(a, "focused"))) } l.forEach((function (e) { return p(e, "focused") })); var h = o[0].getAttribute("tabindex"); h = h || "0"; var c = parseInt(h) + 1; c > l.length - 1 && (c = "0"); var d = document.querySelector('.gbtn[tabindex="'.concat(c, '"]')); d && (d.focus(), f(d, "focused")) } 39 == n && e.nextSlide(), 37 == n && e.prevSlide(), 27 == n && e.close() } }) } function B(e) { return Math.sqrt(e.x * e.x + e.y * e.y) } function W(e, t) { var i = function (e, t) { var i = B(e) * B(t); if (0 === i) return 0; var n = function (e, t) { return e.x * t.x + e.y * t.y }(e, t) / i; return n > 1 && (n = 1), Math.acos(n) }(e, t); return function (e, t) { return e.x * t.y - t.x * e.y }(e, t) > 0 && (i *= -1), 180 * i / Math.PI } var j = function () { function e(t) { i(this, e), this.handlers = [], this.el = t } return s(e, [{ key: "add", value: function (e) { this.handlers.push(e) } }, { key: "del", value: function (e) { e || (this.handlers = []); for (var t = this.handlers.length; t >= 0; t--)this.handlers[t] === e && this.handlers.splice(t, 1) } }, { key: "dispatch", value: function () { for (var e = 0, t = this.handlers.length; e < t; e++) { var i = this.handlers[e]; "function" == typeof i && i.apply(this.el, arguments) } } }]), e }(); function H(e, t) { var i = new j(e); return i.add(t), i } var V = function () { function e(t, n) { i(this, e), this.element = "string" == typeof t ? document.querySelector(t) : t, this.start = this.start.bind(this), this.move = this.move.bind(this), this.end = this.end.bind(this), this.cancel = this.cancel.bind(this), this.element.addEventListener("touchstart", this.start, !1), this.element.addEventListener("touchmove", this.move, !1), this.element.addEventListener("touchend", this.end, !1), this.element.addEventListener("touchcancel", this.cancel, !1), this.preV = { x: null, y: null }, this.pinchStartLen = null, this.zoom = 1, this.isDoubleTap = !1; var s = function () { }; this.rotate = H(this.element, n.rotate || s), this.touchStart = H(this.element, n.touchStart || s), this.multipointStart = H(this.element, n.multipointStart || s), this.multipointEnd = H(this.element, n.multipointEnd || s), this.pinch = H(this.element, n.pinch || s), this.swipe = H(this.element, n.swipe || s), this.tap = H(this.element, n.tap || s), this.doubleTap = H(this.element, n.doubleTap || s), this.longTap = H(this.element, n.longTap || s), this.singleTap = H(this.element, n.singleTap || s), this.pressMove = H(this.element, n.pressMove || s), this.twoFingerPressMove = H(this.element, n.twoFingerPressMove || s), this.touchMove = H(this.element, n.touchMove || s), this.touchEnd = H(this.element, n.touchEnd || s), this.touchCancel = H(this.element, n.touchCancel || s), this._cancelAllHandler = this.cancelAll.bind(this), window.addEventListener("scroll", this._cancelAllHandler), this.delta = null, this.last = null, this.now = null, this.tapTimeout = null, this.singleTapTimeout = null, this.longTapTimeout = null, this.swipeTimeout = null, this.x1 = this.x2 = this.y1 = this.y2 = null, this.preTapPosition = { x: null, y: null } } return s(e, [{ key: "start", value: function (e) { if (e.touches) { this.now = Date.now(), this.x1 = e.touches[0].pageX, this.y1 = e.touches[0].pageY, this.delta = this.now - (this.last || this.now), this.touchStart.dispatch(e, this.element), null !== this.preTapPosition.x && (this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30, this.isDoubleTap && clearTimeout(this.singleTapTimeout)), this.preTapPosition.x = this.x1, this.preTapPosition.y = this.y1, this.last = this.now; var t = this.preV; if (e.touches.length > 1) { this._cancelLongTap(), this._cancelSingleTap(); var i = { x: e.touches[1].pageX - this.x1, y: e.touches[1].pageY - this.y1 }; t.x = i.x, t.y = i.y, this.pinchStartLen = B(t), this.multipointStart.dispatch(e, this.element) } this._preventTap = !1, this.longTapTimeout = setTimeout(function () { this.longTap.dispatch(e, this.element), this._preventTap = !0 }.bind(this), 750) } } }, { key: "move", value: function (e) { if (e.touches) { var t = this.preV, i = e.touches.length, n = e.touches[0].pageX, s = e.touches[0].pageY; if (this.isDoubleTap = !1, i > 1) { var l = e.touches[1].pageX, r = e.touches[1].pageY, o = { x: e.touches[1].pageX - n, y: e.touches[1].pageY - s }; null !== t.x && (this.pinchStartLen > 0 && (e.zoom = B(o) / this.pinchStartLen, this.pinch.dispatch(e, this.element)), e.angle = W(o, t), this.rotate.dispatch(e, this.element)), t.x = o.x, t.y = o.y, null !== this.x2 && null !== this.sx2 ? (e.deltaX = (n - this.x2 + l - this.sx2) / 2, e.deltaY = (s - this.y2 + r - this.sy2) / 2) : (e.deltaX = 0, e.deltaY = 0), this.twoFingerPressMove.dispatch(e, this.element), this.sx2 = l, this.sy2 = r } else { if (null !== this.x2) { e.deltaX = n - this.x2, e.deltaY = s - this.y2; var a = Math.abs(this.x1 - this.x2), h = Math.abs(this.y1 - this.y2); (a > 10 || h > 10) && (this._preventTap = !0) } else e.deltaX = 0, e.deltaY = 0; this.pressMove.dispatch(e, this.element) } this.touchMove.dispatch(e, this.element), this._cancelLongTap(), this.x2 = n, this.y2 = s, i > 1 && e.preventDefault() } } }, { key: "end", value: function (e) { if (e.changedTouches) { this._cancelLongTap(); var t = this; e.touches.length < 2 && (this.multipointEnd.dispatch(e, this.element), this.sx2 = this.sy2 = null), this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30 ? (e.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2), this.swipeTimeout = setTimeout((function () { t.swipe.dispatch(e, t.element) }), 0)) : (this.tapTimeout = setTimeout((function () { t._preventTap || t.tap.dispatch(e, t.element), t.isDoubleTap && (t.doubleTap.dispatch(e, t.element), t.isDoubleTap = !1) }), 0), t.isDoubleTap || (t.singleTapTimeout = setTimeout((function () { t.singleTap.dispatch(e, t.element) }), 250))), this.touchEnd.dispatch(e, this.element), this.preV.x = 0, this.preV.y = 0, this.zoom = 1, this.pinchStartLen = null, this.x1 = this.x2 = this.y1 = this.y2 = null } } }, { key: "cancelAll", value: function () { this._preventTap = !0, clearTimeout(this.singleTapTimeout), clearTimeout(this.tapTimeout), clearTimeout(this.longTapTimeout), clearTimeout(this.swipeTimeout) } }, { key: "cancel", value: function (e) { this.cancelAll(), this.touchCancel.dispatch(e, this.element) } }, { key: "_cancelLongTap", value: function () { clearTimeout(this.longTapTimeout) } }, { key: "_cancelSingleTap", value: function () { clearTimeout(this.singleTapTimeout) } }, { key: "_swipeDirection", value: function (e, t, i, n) { return Math.abs(e - t) >= Math.abs(i - n) ? e - t > 0 ? "Left" : "Right" : i - n > 0 ? "Up" : "Down" } }, { key: "on", value: function (e, t) { this[e] && this[e].add(t) } }, { key: "off", value: function (e, t) { this[e] && this[e].del(t) } }, { key: "destroy", value: function () { return this.singleTapTimeout && clearTimeout(this.singleTapTimeout), this.tapTimeout && clearTimeout(this.tapTimeout), this.longTapTimeout && clearTimeout(this.longTapTimeout), this.swipeTimeout && clearTimeout(this.swipeTimeout), this.element.removeEventListener("touchstart", this.start), this.element.removeEventListener("touchmove", this.move), this.element.removeEventListener("touchend", this.end), this.element.removeEventListener("touchcancel", this.cancel), this.rotate.del(), this.touchStart.del(), this.multipointStart.del(), this.multipointEnd.del(), this.pinch.del(), this.swipe.del(), this.tap.del(), this.doubleTap.del(), this.longTap.del(), this.singleTap.del(), this.pressMove.del(), this.twoFingerPressMove.del(), this.touchMove.del(), this.touchEnd.del(), this.touchCancel.del(), this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null, window.removeEventListener("scroll", this._cancelAllHandler), null } }]), e }(); function R(e) { var t = function () { var e, t = document.createElement("fakeelement"), i = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (e in i) if (void 0 !== t.style[e]) return i[e] }(), i = m(e, "gslide-media") ? e : e.querySelector(".gslide-media"), n = e.querySelector(".gslide-description"); f(i, "greset"), b(i, "translate3d(0, 0, 0)"), v(t, { onElement: i, once: !0, withCallback: function (e, t) { p(i, "greset") } }), i.style.opacity = "", n && (n.style.opacity = "") } function F(e) { if (e.events.hasOwnProperty("touch")) return !1; var t, i, n, s = k(), l = s.width, r = s.height, o = !1, a = null, h = null, c = null, d = !1, u = 1, g = 1, v = !1, x = !1, S = null, w = null, T = null, C = null, E = 0, A = 0, L = !1, I = !1, O = {}, P = {}, M = 0, X = 0, z = document.getElementById("glightbox-slider"), Y = document.querySelector(".goverlay"), q = new V(z, { touchStart: function (t) { if (o = !0, (m(t.targetTouches[0].target, "ginner-container") || y(t.targetTouches[0].target, ".gslide-desc") || "a" == t.targetTouches[0].target.nodeName.toLowerCase()) && (o = !1), y(t.targetTouches[0].target, ".gslide-inline") && !m(t.targetTouches[0].target.parentNode, "gslide-inline") && (o = !1), o) { if (P = t.targetTouches[0], O.pageX = t.targetTouches[0].pageX, O.pageY = t.targetTouches[0].pageY, M = t.targetTouches[0].clientX, X = t.targetTouches[0].clientY, a = e.activeSlide, h = a.querySelector(".gslide-media"), n = a.querySelector(".gslide-inline"), c = null, m(h, "gslide-image") && (c = h.querySelector("img")), p(Y, "greset"), t.pageX > 20 && t.pageX < window.innerWidth - 20) return; t.preventDefault() } }, touchMove: function (s) { if (o && (P = s.targetTouches[0], !v && !x)) { if (n && n.offsetHeight > r) { var a = O.pageX - P.pageX; if (Math.abs(a) <= 13) return !1 } d = !0; var u, g = s.targetTouches[0].clientX, f = s.targetTouches[0].clientY, p = M - g, m = X - f; if (Math.abs(p) > Math.abs(m) ? (L = !1, I = !0) : (I = !1, L = !0), t = P.pageX - O.pageX, E = 100 * t / l, i = P.pageY - O.pageY, A = 100 * i / r, L && c && (u = 1 - Math.abs(i) / r, Y.style.opacity = u, e.settings.touchFollowAxis && (E = 0)), I && (u = 1 - Math.abs(t) / l, h.style.opacity = u, e.settings.touchFollowAxis && (A = 0)), !c) return b(h, "translate3d(".concat(E, "%, 0, 0)")); b(h, "translate3d(".concat(E, "%, ").concat(A, "%, 0)")) } }, touchEnd: function () { if (o) { if (d = !1, x || v) return T = S, void (C = w); var t = Math.abs(parseInt(A)), i = Math.abs(parseInt(E)); if (!(t > 29 && c)) return t < 29 && i < 25 ? (f(Y, "greset"), Y.style.opacity = 1, R(h)) : void 0; e.close() } }, multipointEnd: function () { setTimeout((function () { v = !1 }), 50) }, multipointStart: function () { v = !0, u = g || 1 }, pinch: function (e) { if (!c || d) return !1; v = !0, c.scaleX = c.scaleY = u * e.zoom; var t = u * e.zoom; if (x = !0, t <= 1) return x = !1, t = 1, C = null, T = null, S = null, w = null, void c.setAttribute("style", ""); t > 4.5 && (t = 4.5), c.style.transform = "scale3d(".concat(t, ", ").concat(t, ", 1)"), g = t }, pressMove: function (e) { if (x && !v) { var t = P.pageX - O.pageX, i = P.pageY - O.pageY; T && (t += T), C && (i += C), S = t, w = i; var n = "translate3d(".concat(t, "px, ").concat(i, "px, 0)"); g && (n += " scale3d(".concat(g, ", ").concat(g, ", 1)")), b(c, n) } }, swipe: function (t) { if (!x) if (v) v = !1; else { if ("Left" == t.direction) { if (e.index == e.elements.length - 1) return R(h); e.nextSlide() } if ("Right" == t.direction) { if (0 == e.index) return R(h); e.prevSlide() } } } }); e.events.touch = q } var G = function () { function e(t, n) { var s = this, l = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; if (i(this, e), this.img = t, this.slide = n, this.onclose = l, this.img.setZoomEvents) return !1; this.active = !1, this.zoomedIn = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.img.addEventListener("mousedown", (function (e) { return s.dragStart(e) }), !1), this.img.addEventListener("mouseup", (function (e) { return s.dragEnd(e) }), !1), this.img.addEventListener("mousemove", (function (e) { return s.drag(e) }), !1), this.img.addEventListener("click", (function (e) { return s.slide.classList.contains("dragging-nav") ? (s.zoomOut(), !1) : s.zoomedIn ? void (s.zoomedIn && !s.dragging && s.zoomOut()) : s.zoomIn() }), !1), this.img.setZoomEvents = !0 } return s(e, [{ key: "zoomIn", value: function () { var e = this.widowWidth(); if (!(this.zoomedIn || e <= 768)) { var t = this.img; if (t.setAttribute("data-style", t.getAttribute("style")), t.style.maxWidth = t.naturalWidth + "px", t.style.maxHeight = t.naturalHeight + "px", t.naturalWidth > e) { var i = e / 2 - t.naturalWidth / 2; this.setTranslate(this.img.parentNode, i, 0) } this.slide.classList.add("zoomed"), this.zoomedIn = !0 } } }, { key: "zoomOut", value: function () { this.img.parentNode.setAttribute("style", ""), this.img.setAttribute("style", this.img.getAttribute("data-style")), this.slide.classList.remove("zoomed"), this.zoomedIn = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.onclose && "function" == typeof this.onclose && this.onclose() } }, { key: "dragStart", value: function (e) { e.preventDefault(), this.zoomedIn ? ("touchstart" === e.type ? (this.initialX = e.touches[0].clientX - this.xOffset, this.initialY = e.touches[0].clientY - this.yOffset) : (this.initialX = e.clientX - this.xOffset, this.initialY = e.clientY - this.yOffset), e.target === this.img && (this.active = !0, this.img.classList.add("dragging"))) : this.active = !1 } }, { key: "dragEnd", value: function (e) { var t = this; e.preventDefault(), this.initialX = this.currentX, this.initialY = this.currentY, this.active = !1, setTimeout((function () { t.dragging = !1, t.img.isDragging = !1, t.img.classList.remove("dragging") }), 100) } }, { key: "drag", value: function (e) { this.active && (e.preventDefault(), "touchmove" === e.type ? (this.currentX = e.touches[0].clientX - this.initialX, this.currentY = e.touches[0].clientY - this.initialY) : (this.currentX = e.clientX - this.initialX, this.currentY = e.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.img.isDragging = !0, this.dragging = !0, this.setTranslate(this.img, this.currentX, this.currentY)) } }, { key: "onMove", value: function (e) { if (this.zoomedIn) { var t = e.clientX - this.img.naturalWidth / 2, i = e.clientY - this.img.naturalHeight / 2; this.setTranslate(this.img, t, i) } } }, { key: "setTranslate", value: function (e, t, i) { e.style.transform = "translate3d(" + t + "px, " + i + "px, 0)" } }, { key: "widowWidth", value: function () { return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth } }]), e }(), Z = function () { function e() { var t = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; i(this, e); var s = n.dragEl, l = n.toleranceX, r = void 0 === l ? 40 : l, o = n.toleranceY, a = void 0 === o ? 65 : o, h = n.slide, c = void 0 === h ? null : h, d = n.instance, u = void 0 === d ? null : d; this.el = s, this.active = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.direction = null, this.lastDirection = null, this.toleranceX = r, this.toleranceY = a, this.toleranceReached = !1, this.dragContainer = this.el, this.slide = c, this.instance = u, this.el.addEventListener("mousedown", (function (e) { return t.dragStart(e) }), !1), this.el.addEventListener("mouseup", (function (e) { return t.dragEnd(e) }), !1), this.el.addEventListener("mousemove", (function (e) { return t.drag(e) }), !1) } return s(e, [{ key: "dragStart", value: function (e) { if (this.slide.classList.contains("zoomed")) this.active = !1; else { "touchstart" === e.type ? (this.initialX = e.touches[0].clientX - this.xOffset, this.initialY = e.touches[0].clientY - this.yOffset) : (this.initialX = e.clientX - this.xOffset, this.initialY = e.clientY - this.yOffset); var t = e.target.nodeName.toLowerCase(); e.target.classList.contains("nodrag") || y(e.target, ".nodrag") || -1 !== ["input", "select", "textarea", "button", "a"].indexOf(t) ? this.active = !1 : (e.preventDefault(), (e.target === this.el || "img" !== t && y(e.target, ".gslide-inline")) && (this.active = !0, this.el.classList.add("dragging"), this.dragContainer = y(e.target, ".ginner-container"))) } } }, { key: "dragEnd", value: function (e) { var t = this; e && e.preventDefault(), this.initialX = 0, this.initialY = 0, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.active = !1, this.doSlideChange && (this.instance.preventOutsideClick = !0, "right" == this.doSlideChange && this.instance.prevSlide(), "left" == this.doSlideChange && this.instance.nextSlide()), this.doSlideClose && this.instance.close(), this.toleranceReached || this.setTranslate(this.dragContainer, 0, 0, !0), setTimeout((function () { t.instance.preventOutsideClick = !1, t.toleranceReached = !1, t.lastDirection = null, t.dragging = !1, t.el.isDragging = !1, t.el.classList.remove("dragging"), t.slide.classList.remove("dragging-nav"), t.dragContainer.style.transform = "", t.dragContainer.style.transition = "" }), 100) } }, { key: "drag", value: function (e) { if (this.active) { e.preventDefault(), this.slide.classList.add("dragging-nav"), "touchmove" === e.type ? (this.currentX = e.touches[0].clientX - this.initialX, this.currentY = e.touches[0].clientY - this.initialY) : (this.currentX = e.clientX - this.initialX, this.currentY = e.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.el.isDragging = !0, this.dragging = !0, this.doSlideChange = !1, this.doSlideClose = !1; var t = Math.abs(this.currentX), i = Math.abs(this.currentY); if (t > 0 && t >= Math.abs(this.currentY) && (!this.lastDirection || "x" == this.lastDirection)) { this.yOffset = 0, this.lastDirection = "x", this.setTranslate(this.dragContainer, this.currentX, 0); var n = this.shouldChange(); if (!this.instance.settings.dragAutoSnap && n && (this.doSlideChange = n), this.instance.settings.dragAutoSnap && n) return this.instance.preventOutsideClick = !0, this.toleranceReached = !0, this.active = !1, this.instance.preventOutsideClick = !0, this.dragEnd(null), "right" == n && this.instance.prevSlide(), void ("left" == n && this.instance.nextSlide()) } if (this.toleranceY > 0 && i > 0 && i >= t && (!this.lastDirection || "y" == this.lastDirection)) { this.xOffset = 0, this.lastDirection = "y", this.setTranslate(this.dragContainer, 0, this.currentY); var s = this.shouldClose(); return !this.instance.settings.dragAutoSnap && s && (this.doSlideClose = !0), void (this.instance.settings.dragAutoSnap && s && this.instance.close()) } } } }, { key: "shouldChange", value: function () { var e = !1; if (Math.abs(this.currentX) >= this.toleranceX) { var t = this.currentX > 0 ? "right" : "left"; ("left" == t && this.slide !== this.slide.parentNode.lastChild || "right" == t && this.slide !== this.slide.parentNode.firstChild) && (e = t) } return e } }, { key: "shouldClose", value: function () { var e = !1; return Math.abs(this.currentY) >= this.toleranceY && (e = !0), e } }, { key: "setTranslate", value: function (e, t, i) { var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]; e.style.transition = n ? "all .2s ease" : "", e.style.transform = "translate3d(".concat(t, "px, ").concat(i, "px, 0)") } }]), e }(); function $(e, t, i, n) { var s = e.querySelector(".gslide-media"), l = new Image, r = "gSlideTitle_" + i, o = "gSlideDesc_" + i; l.addEventListener("load", (function () { I(n) && n() }), !1), l.src = t.href, l.alt = "", "" !== t.title && l.setAttribute("aria-labelledby", r), "" !== t.description && l.setAttribute("aria-describedby", o), s.insertBefore(l, s.firstChild) } function U(e, t, i, n) { var s = this, l = e.querySelector(".ginner-container"), r = "gvideo" + i, o = e.querySelector(".gslide-media"), a = this.getAllPlayers(); f(l, "gvideo-container"), o.insertBefore(T('<div class="gvideo-wrapper"></div>'), o.firstChild); var h = e.querySelector(".gvideo-wrapper"); A(this.settings.plyr.css, "Plyr"); var c = t.href, d = location.protocol.replace(":", ""), u = "", g = "", v = !1; "file" == d && (d = "http"), o.style.maxWidth = t.width, A(this.settings.plyr.js, "Plyr", (function () { if (c.match(/vimeo\.com\/([0-9]*)/)) { var e = /vimeo.*\/(\d+)/i.exec(c); u = "vimeo", g = e[1] } if (c.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/) || c.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/) || c.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)) { var l = function (e) { var t = ""; t = void 0 !== (e = e.replace(/(>|<)/gi, "").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2] ? (t = e[2].split(/[^0-9a-z_\-]/i))[0] : e; return t }(c); u = "youtube", g = l } if (null !== c.match(/\.(mp4|ogg|webm|mov)$/)) { u = "local"; var o = '<video id="' + r + '" '; o += 'style="background:#000; max-width: '.concat(t.width, ';" '), o += 'preload="metadata" ', o += 'x-webkit-airplay="allow" ', o += 'webkit-playsinline="" ', o += "controls ", o += 'class="gvideo-local">'; var d = c.toLowerCase().split(".").pop(), p = { mp4: "", ogg: "", webm: "" }; for (var m in p[d = "mov" == d ? "mp4" : d] = c, p) if (p.hasOwnProperty(m)) { var y = p[m]; t.hasOwnProperty(m) && (y = t[m]), "" !== y && (o += '<source src="'.concat(y, '" type="video/').concat(m, '">')) } v = T(o += "</video>") } var x = v || T('<div id="'.concat(r, '" data-plyr-provider="').concat(u, '" data-plyr-embed-id="').concat(g, '"></div>')); f(h, "".concat(u, "-video gvideo")), h.appendChild(x), h.setAttribute("data-id", r), h.setAttribute("data-index", i); var b = q(s.settings.plyr, "config") ? s.settings.plyr.config : {}, S = new Plyr("#" + r, b); S.on("ready", (function (e) { var t = e.detail.plyr; a[r] = t, I(n) && n() })), S.on("enterfullscreen", J), S.on("exitfullscreen", J) })) } function J(e) { var t = y(e.target, ".gslide-media"); "enterfullscreen" == e.type && f(t, "fullscreen"), "exitfullscreen" == e.type && p(t, "fullscreen") } function K(e, t, i, n) { var s, l = this, r = e.querySelector(".gslide-media"), o = !(!q(t, "href") || !t.href) && t.href.split("#").pop().trim(), a = !(!q(t, "content") || !t.content) && t.content; if (a && (O(a) && (s = T('<div class="ginlined-content">'.concat(a, "</div>"))), P(a))) { "none" == a.style.display && (a.style.display = "block"); var h = document.createElement("div"); h.className = "ginlined-content", h.appendChild(a), s = h } if (o) { var c = document.getElementById(o); if (!c) return !1; var d = c.cloneNode(!0); d.style.height = t.height, d.style.maxWidth = t.width, f(d, "ginlined-content"), s = d } if (!s) return console.error("Unable to append inline slide content", t), !1; r.style.height = t.height, r.style.width = t.width, r.appendChild(s), this.events["inlineclose" + o] = v("click", { onElement: r.querySelectorAll(".gtrigger-close"), withCallback: function (e) { e.preventDefault(), l.close() } }), I(n) && n() } function Q(e, t, i, n) { var s = e.querySelector(".gslide-media"), l = function (e) { var t = e.url, i = e.allow, n = e.callback, s = e.appendTo, l = document.createElement("iframe"); return l.className = "vimeo-video gvideo", l.src = t, l.style.width = "100%", l.style.height = "100%", i && l.setAttribute("allow", i), l.onload = function () { f(l, "node-ready"), I(n) && n() }, s && s.appendChild(l), l }({ url: t.href, callback: n }); s.parentNode.style.maxWidth = t.width, s.parentNode.style.height = t.height, s.appendChild(l) } var ee = function () { function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; i(this, e), this.defaults = { href: "", title: "", type: "", description: "", descPosition: "bottom", effect: "", width: "", height: "", content: !1, zoomable: !0, draggable: !0 }, z(t) && (this.defaults = d(this.defaults, t)) } return s(e, [{ key: "sourceType", value: function (e) { var t = e; if (null !== (e = e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|svg)$/)) return "image"; if (e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/) || e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/) || e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)) return "video"; if (e.match(/vimeo\.com\/([0-9]*)/)) return "video"; if (null !== e.match(/\.(mp4|ogg|webm|mov)$/)) return "video"; if (null !== e.match(/\.(mp3|wav|wma|aac|ogg)$/)) return "audio"; if (e.indexOf("#") > -1 && "" !== t.split("#").pop().trim()) return "inline"; return e.indexOf("goajax=true") > -1 ? "ajax" : "external" } }, { key: "parseConfig", value: function (e, t) { var i = this, n = d({ descPosition: t.descPosition }, this.defaults); if (z(e) && !P(e)) { q(e, "type") || (q(e, "content") && e.content ? e.type = "inline" : q(e, "href") && (e.type = this.sourceType(e.href))); var s = d(n, e); return this.setSize(s, t), s } var l = "", r = e.getAttribute("data-glightbox"), o = e.nodeName.toLowerCase(); if ("a" === o && (l = e.href), "img" === o && (l = e.src), n.href = l, u(n, (function (s, l) { q(t, l) && "width" !== l && (n[l] = t[l]); var r = e.dataset[l]; Y(r) || (n[l] = i.sanitizeValue(r)) })), n.content && (n.type = "inline"), !n.type && l && (n.type = this.sourceType(l)), Y(r)) { if (!n.title && "a" == o) { var a = e.title; Y(a) || "" === a || (n.title = a) } if (!n.title && "img" == o) { var h = e.alt; Y(h) || "" === h || (n.title = h) } } else { var c = []; u(n, (function (e, t) { c.push(";\\s?" + t) })), c = c.join("\\s?:|"), "" !== r.trim() && u(n, (function (e, t) { var s = r, l = new RegExp("s?" + t + "s?:s?(.*?)(" + c + "s?:|$)"), o = s.match(l); if (o && o.length && o[1]) { var a = o[1].trim().replace(/;\s*$/, ""); n[t] = i.sanitizeValue(a) } })) } if (n.description && "." == n.description.substring(0, 1) && document.querySelector(n.description)) n.description = document.querySelector(n.description).innerHTML; else { var g = e.querySelector(".glightbox-desc"); g && (n.description = g.innerHTML) } return this.setSize(n, t), this.slideConfig = n, n } }, { key: "setSize", value: function (e, t) { var i = "video" == e.type ? this.checkSize(t.videosWidth) : this.checkSize(t.width), n = this.checkSize(t.height); return e.width = q(e, "width") && "" !== e.width ? this.checkSize(e.width) : i, e.height = q(e, "height") && "" !== e.height ? this.checkSize(e.height) : n, e } }, { key: "checkSize", value: function (e) { return N(e) ? "".concat(e, "px") : e } }, { key: "sanitizeValue", value: function (e) { return "true" !== e && "false" !== e ? e : "true" === e } }]), e }(), te = function () { function e(t, n, s) { i(this, e), this.element = t, this.instance = n, this.index = s } return s(e, [{ key: "setContent", value: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; if (m(t, "loaded")) return !1; var n = this.instance.settings, s = this.slideConfig, l = L(); I(n.beforeSlideLoad) && n.beforeSlideLoad({ index: this.index, slide: t, player: !1 }); var r = s.type, o = s.descPosition, a = t.querySelector(".gslide-media"), h = t.querySelector(".gslide-title"), c = t.querySelector(".gslide-desc"), d = t.querySelector(".gdesc-inner"), u = i, g = "gSlideTitle_" + this.index, v = "gSlideDesc_" + this.index; if (I(n.afterSlideLoad) && (u = function () { I(i) && i(), n.afterSlideLoad({ index: e.index, slide: t, player: e.instance.getSlidePlayerInstance(e.index) }) }), "" == s.title && "" == s.description ? d && d.parentNode.parentNode.removeChild(d.parentNode) : (h && "" !== s.title ? (h.id = g, h.innerHTML = s.title) : h.parentNode.removeChild(h), c && "" !== s.description ? (c.id = v, l && n.moreLength > 0 ? (s.smallDescription = this.slideShortDesc(s.description, n.moreLength, n.moreText), c.innerHTML = s.smallDescription, this.descriptionEvents(c, s)) : c.innerHTML = s.description) : c.parentNode.removeChild(c), f(a.parentNode, "desc-".concat(o)), f(d.parentNode, "description-".concat(o))), f(a, "gslide-".concat(r)), f(t, "loaded"), "video" !== r) { if ("external" !== r) return "inline" === r ? (K.apply(this.instance, [t, s, this.index, u]), void (n.draggable && new Z({ dragEl: t.querySelector(".gslide-inline"), toleranceX: n.dragToleranceX, toleranceY: n.dragToleranceY, slide: t, instance: this.instance }))) : void ("image" !== r ? I(u) && u() : $(t, s, this.index, (function () { var i = t.querySelector("img"); n.draggable && new Z({ dragEl: i, toleranceX: n.dragToleranceX, toleranceY: n.dragToleranceY, slide: t, instance: e.instance }), s.zoomable && i.naturalWidth > i.offsetWidth && (f(i, "zoomable"), new G(i, t, (function () { e.instance.resize() }))), I(u) && u() }))); Q.apply(this, [t, s, this.index, u]) } else U.apply(this.instance, [t, s, this.index, u]) } }, { key: "slideShortDesc", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = document.createElement("div"); n.innerHTML = e; var s = n.innerText, l = i; if ((e = s.trim()).length <= t) return e; var r = e.substr(0, t - 1); return l ? (n = null, r + '... <a href="#" class="desc-more">' + i + "</a>") : r } }, { key: "descriptionEvents", value: function (e, t) { var i = this, n = e.querySelector(".desc-more"); if (!n) return !1; v("click", { onElement: n, withCallback: function (e, n) { e.preventDefault(); var s = document.body, l = y(n, ".gslide-desc"); if (!l) return !1; l.innerHTML = t.description, f(s, "gdesc-open"); var r = v("click", { onElement: [s, y(l, ".gslide-description")], withCallback: function (e, n) { "a" !== e.target.nodeName.toLowerCase() && (p(s, "gdesc-open"), f(s, "gdesc-closed"), l.innerHTML = t.smallDescription, i.descriptionEvents(l, t), setTimeout((function () { p(s, "gdesc-closed") }), 400), r.destroy()) } }) } }) } }, { key: "create", value: function () { return T(this.instance.settings.slideHTML) } }, { key: "getConfig", value: function () { var e = new ee(this.instance.settings.slideExtraAttributes); return this.slideConfig = e.parseConfig(this.element, this.instance.settings), this.slideConfig } }]), e }(), ie = L(), ne = null !== L() || void 0 !== document.createTouch || "ontouchstart" in window || "onmsgesturechange" in window || navigator.msMaxTouchPoints, se = document.getElementsByTagName("html")[0], le = { selector: ".glightbox", elements: null, skin: "clean", theme: "clean", closeButton: !0, startAt: null, autoplayVideos: !0, autofocusVideos: !0, descPosition: "bottom", width: "900px", height: "506px", videosWidth: "960px", beforeSlideChange: null, afterSlideChange: null, beforeSlideLoad: null, afterSlideLoad: null, slideInserted: null, slideRemoved: null, slideExtraAttributes: null, onOpen: null, onClose: null, loop: !1, zoomable: !0, draggable: !0, dragAutoSnap: !1, dragToleranceX: 40, dragToleranceY: 65, preload: !0, oneSlidePerOpen: !1, touchNavigation: !0, touchFollowAxis: !0, keyboardNavigation: !0, closeOnOutsideClick: !0, plugins: !1, plyr: { css: "https://cdn.plyr.io/3.6.3/plyr.css", js: "https://cdn.plyr.io/3.6.3/plyr.js", config: { ratio: "16:9", fullscreen: { enabled: !0, iosNative: !0 }, youtube: { noCookie: !0, rel: 0, showinfo: 0, iv_load_policy: 3 }, vimeo: { byline: !1, portrait: !1, title: !1, transparent: !1 } } }, openEffect: "zoom", closeEffect: "zoom", slideEffect: "slide", moreText: "See more", moreLength: 60, cssEfects: { fade: { in: "fadeIn", out: "fadeOut" }, zoom: { in: "zoomIn", out: "zoomOut" }, slide: { in: "slideInRight", out: "slideOutLeft" }, slideBack: { in: "slideInLeft", out: "slideOutRight" }, none: { in: "none", out: "none" } }, svg: { close: '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>', next: '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>', prev: '<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>' }, slideHTML: '<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>', lightboxHTML: '<div id="glightbox-body" class="glightbox-container">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gnext gbtn" tabindex="0" aria-label="Next">{nextSVG}</button>\n    <button class="gprev gbtn" tabindex="1" aria-label="Previous">{prevSVG}</button>\n    <button class="gclose gbtn" tabindex="2" aria-label="Close">{closeSVG}</button>\n</div>\n</div>' }, re = function () { function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; i(this, e), this.settings = d(le, t), this.effectsClasses = this.getAnimationClasses(), this.videoPlayers = {}, this.apiEvents = [], this.fullElementsList = !1 } var n, r; return s(e, [{ key: "init", value: function () { var e = this, t = this.getSelector(); t && (this.baseEvents = v("click", { onElement: t, withCallback: function (t, i) { t.preventDefault(), e.open(i) } })), this.elements = this.getElements() } }, { key: "open", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; if (0 == this.elements.length) return !1; this.activeSlide = null, this.prevActiveSlideIndex = null, this.prevActiveSlide = null; var i = N(t) ? t : this.settings.startAt; if (P(e)) { var n = e.getAttribute("data-gallery"); n && (this.fullElementsList = this.elements, this.elements = this.getGalleryElements(this.elements, n)), Y(i) && (i = this.getElementIndex(e)) < 0 && (i = 0) } N(i) || (i = 0), this.build(), x(this.overlay, "none" == this.settings.openEffect ? "none" : this.settings.cssEfects.fade.in); var s = document.body, l = window.innerWidth - document.documentElement.clientWidth; if (l > 0) { var r = document.createElement("style"); r.type = "text/css", r.className = "gcss-styles", r.innerText = ".gscrollbar-fixer {margin-right: ".concat(l, "px}"), document.head.appendChild(r), f(s, "gscrollbar-fixer") } f(s, "glightbox-open"), f(se, "glightbox-open"), ie && (f(document.body, "glightbox-mobile"), this.settings.slideEffect = "slide"), this.showSlide(i, !0), 1 == this.elements.length ? (f(this.prevButton, "glightbox-button-hidden"), f(this.nextButton, "glightbox-button-hidden")) : (p(this.prevButton, "glightbox-button-hidden"), p(this.nextButton, "glightbox-button-hidden")), this.lightboxOpen = !0, this.trigger("open"), I(this.settings.onOpen) && this.settings.onOpen(), ne && this.settings.touchNavigation && F(this), this.settings.keyboardNavigation && _(this) } }, { key: "openAt", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; this.open(null, e) } }, { key: "showSlide", value: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; S(this.loader), this.index = parseInt(t); var n = this.slidesContainer.querySelector(".current"); n && p(n, "current"), this.slideAnimateOut(); var s = this.slidesContainer.querySelectorAll(".gslide")[t]; if (m(s, "loaded")) this.slideAnimateIn(s, i), w(this.loader); else { S(this.loader); var l = this.elements[t], r = { index: this.index, slide: s, slideNode: s, slideConfig: l.slideConfig, slideIndex: this.index, trigger: l.node, player: null }; this.trigger("slide_before_load", r).then((function () { l.instance.setContent(s, (function () { w(e.loader), e.resize(), e.slideAnimateIn(s, i), e.trigger("slide_after_load", r) })) })) } this.slideDescription = s.querySelector(".gslide-description"), this.slideDescriptionContained = this.slideDescription && m(this.slideDescription.parentNode, "gslide-media"), this.settings.preload && (this.preloadSlide(t + 1), this.preloadSlide(t - 1)), this.updateNavigationClasses(), this.activeSlide = s } }, { key: "preloadSlide", value: function (e) { var t = this; if (e < 0 || e > this.elements.length - 1) return !1; if (Y(this.elements[e])) return !1; var i = this.slidesContainer.querySelectorAll(".gslide")[e]; if (m(i, "loaded")) return !1; var n = this.elements[e], s = n.type, l = { index: e, slide: i, slideNode: i, slideConfig: n.slideConfig, slideIndex: e, trigger: n.node, player: null }; this.trigger("slide_before_load", l), "video" == s || "external" == s ? setTimeout((function () { n.instance.setContent(i, (function () { t.trigger("slide_after_load", l) })) }), 200) : n.instance.setContent(i, (function () { t.trigger("slide_after_load", l) })) } }, { key: "prevSlide", value: function () { this.goToSlide(this.index - 1) } }, { key: "nextSlide", value: function () { this.goToSlide(this.index + 1) } }, { key: "goToSlide", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; if (this.prevActiveSlide = this.activeSlide, this.prevActiveSlideIndex = this.index, !this.loop() && (e < 0 || e > this.elements.length - 1)) return !1; e < 0 ? e = this.elements.length - 1 : e >= this.elements.length && (e = 0), this.showSlide(e) } }, { key: "insertSlide", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1; t < 0 && (t = this.elements.length); var i = new te(e, this, t), n = i.getConfig(), s = d({}, n), l = i.create(), r = this.elements.length - 1; s.index = t, s.node = !1, s.instance = i, s.slideConfig = n, this.elements.splice(t, 0, s); var o = null, a = null; if (this.slidesContainer) { if (t > r) this.slidesContainer.appendChild(l); else { var h = this.slidesContainer.querySelectorAll(".gslide")[t]; this.slidesContainer.insertBefore(l, h) } (this.settings.preload && 0 == this.index && 0 == t || this.index - 1 == t || this.index + 1 == t) && this.preloadSlide(t), 0 == this.index && 0 == t && (this.index = 1), this.updateNavigationClasses(), o = this.slidesContainer.querySelectorAll(".gslide")[t], a = this.getSlidePlayerInstance(t), s.slideNode = o } this.trigger("slide_inserted", { index: t, slide: o, slideNode: o, slideConfig: n, slideIndex: t, trigger: null, player: a }), I(this.settings.slideInserted) && this.settings.slideInserted({ index: t, slide: o, player: a }) } }, { key: "removeSlide", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1; if (e < 0 || e > this.elements.length - 1) return !1; var t = this.slidesContainer && this.slidesContainer.querySelectorAll(".gslide")[e]; t && (this.getActiveSlideIndex() == e && (e == this.elements.length - 1 ? this.prevSlide() : this.nextSlide()), t.parentNode.removeChild(t)), this.elements.splice(e, 1), this.trigger("slide_removed", e), I(this.settings.slideRemoved) && this.settings.slideRemoved(e) } }, { key: "slideAnimateIn", value: function (e, t) { var i = this, n = e.querySelector(".gslide-media"), s = e.querySelector(".gslide-description"), l = { index: this.prevActiveSlideIndex, slide: this.prevActiveSlide, slideNode: this.prevActiveSlide, slideIndex: this.prevActiveSlide, slideConfig: Y(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig, trigger: Y(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node, player: this.getSlidePlayerInstance(this.prevActiveSlideIndex) }, r = { index: this.index, slide: this.activeSlide, slideNode: this.activeSlide, slideConfig: this.elements[this.index].slideConfig, slideIndex: this.index, trigger: this.elements[this.index].node, player: this.getSlidePlayerInstance(this.index) }; if (n.offsetWidth > 0 && s && (w(s), s.style.display = ""), p(e, this.effectsClasses), t) x(e, this.settings.cssEfects[this.settings.openEffect].in, (function () { i.settings.autoplayVideos && i.slidePlayerPlay(e), i.trigger("slide_changed", { prev: l, current: r }), I(i.settings.afterSlideChange) && i.settings.afterSlideChange.apply(i, [l, r]) })); else { var o = this.settings.slideEffect, a = "none" !== o ? this.settings.cssEfects[o].in : o; this.prevActiveSlideIndex > this.index && "slide" == this.settings.slideEffect && (a = this.settings.cssEfects.slideBack.in), x(e, a, (function () { i.settings.autoplayVideos && i.slidePlayerPlay(e), i.trigger("slide_changed", { prev: l, current: r }), I(i.settings.afterSlideChange) && i.settings.afterSlideChange.apply(i, [l, r]) })) } setTimeout((function () { i.resize(e) }), 100), f(e, "current") } }, { key: "slideAnimateOut", value: function () { if (!this.prevActiveSlide) return !1; var e = this.prevActiveSlide; p(e, this.effectsClasses), f(e, "prev"); var t = this.settings.slideEffect, i = "none" !== t ? this.settings.cssEfects[t].out : t; this.slidePlayerPause(e), this.trigger("slide_before_change", { prev: { index: this.prevActiveSlideIndex, slide: this.prevActiveSlide, slideNode: this.prevActiveSlide, slideIndex: this.prevActiveSlideIndex, slideConfig: Y(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig, trigger: Y(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node, player: this.getSlidePlayerInstance(this.prevActiveSlideIndex) }, current: { index: this.index, slide: this.activeSlide, slideNode: this.activeSlide, slideIndex: this.index, slideConfig: this.elements[this.index].slideConfig, trigger: this.elements[this.index].node, player: this.getSlidePlayerInstance(this.index) } }), I(this.settings.beforeSlideChange) && this.settings.beforeSlideChange.apply(this, [{ index: this.prevActiveSlideIndex, slide: this.prevActiveSlide, player: this.getSlidePlayerInstance(this.prevActiveSlideIndex) }, { index: this.index, slide: this.activeSlide, player: this.getSlidePlayerInstance(this.index) }]), this.prevActiveSlideIndex > this.index && "slide" == this.settings.slideEffect && (i = this.settings.cssEfects.slideBack.out), x(e, i, (function () { var t = e.querySelector(".gslide-media"), i = e.querySelector(".gslide-description"); t.style.transform = "", p(t, "greset"), t.style.opacity = "", i && (i.style.opacity = ""), p(e, "prev") })) } }, { key: "getAllPlayers", value: function () { return this.videoPlayers } }, { key: "getSlidePlayerInstance", value: function (e) { var t = "gvideo" + e, i = this.getAllPlayers(); return !(!q(i, t) || !i[t]) && i[t] } }, { key: "stopSlideVideo", value: function (e) { if (P(e)) { var t = e.querySelector(".gvideo-wrapper"); t && (e = t.getAttribute("data-index")) } console.log("stopSlideVideo is deprecated, use slidePlayerPause"); var i = this.getSlidePlayerInstance(e); i && i.playing && i.pause() } }, { key: "slidePlayerPause", value: function (e) { if (P(e)) { var t = e.querySelector(".gvideo-wrapper"); t && (e = t.getAttribute("data-index")) } var i = this.getSlidePlayerInstance(e); i && i.playing && i.pause() } }, { key: "playSlideVideo", value: function (e) { if (P(e)) { var t = e.querySelector(".gvideo-wrapper"); t && (e = t.getAttribute("data-index")) } console.log("playSlideVideo is deprecated, use slidePlayerPlay"); var i = this.getSlidePlayerInstance(e); i && !i.playing && i.play() } }, { key: "slidePlayerPlay", value: function (e) { if (P(e)) { var t = e.querySelector(".gvideo-wrapper"); t && (e = t.getAttribute("data-index")) } var i = this.getSlidePlayerInstance(e); console.log("Player is"), console.log(i), i && !i.playing && (i.play(), this.settings.autofocusVideos && i.elements.container.focus()) } }, { key: "setElements", value: function (e) { var t = this; this.settings.elements = !1; var i = []; e && e.length && u(e, (function (e, n) { var s = new te(e, t, n), l = s.getConfig(), r = d({}, l); r.slideConfig = l, r.instance = s, r.index = n, i.push(r) })), this.elements = i, this.lightboxOpen && (this.slidesContainer.innerHTML = "", this.elements.length && (u(this.elements, (function () { var e = T(t.settings.slideHTML); t.slidesContainer.appendChild(e) })), this.showSlide(0, !0))) } }, { key: "getElementIndex", value: function (e) { var t = !1; return u(this.elements, (function (i, n) { if (q(i, "node") && i.node == e) return t = n, !0 })), t } }, { key: "getElements", value: function () { var e = this, t = []; this.elements = this.elements ? this.elements : [], !Y(this.settings.elements) && M(this.settings.elements) && this.settings.elements.length && u(this.settings.elements, (function (i, n) { var s = new te(i, e, n), l = s.getConfig(), r = d({}, l); r.node = !1, r.index = n, r.instance = s, r.slideConfig = l, t.push(r) })); var i = !1; return this.getSelector() && (i = document.querySelectorAll(this.getSelector())), i ? (u(i, (function (i, n) { var s = new te(i, e, n), l = s.getConfig(), r = d({}, l); r.node = i, r.index = n, r.instance = s, r.slideConfig = l, r.gallery = i.getAttribute("data-gallery"), t.push(r) })), t) : t } }, { key: "getGalleryElements", value: function (e, t) { return e.filter((function (e) { return e.gallery == t })) } }, { key: "getSelector", value: function () { return !this.settings.elements && (this.settings.selector && "data-" == this.settings.selector.substring(0, 5) ? "*[".concat(this.settings.selector, "]") : this.settings.selector) } }, { key: "getActiveSlide", value: function () { return this.slidesContainer.querySelectorAll(".gslide")[this.index] } }, { key: "getActiveSlideIndex", value: function () { return this.index } }, { key: "getAnimationClasses", value: function () { var e = []; for (var t in this.settings.cssEfects) if (this.settings.cssEfects.hasOwnProperty(t)) { var i = this.settings.cssEfects[t]; e.push("g".concat(i.in)), e.push("g".concat(i.out)) } return e.join(" ") } }, { key: "build", value: function () { var e = this; if (this.built) return !1; var t = q(this.settings.svg, "next") ? this.settings.svg.next : "", i = q(this.settings.svg, "prev") ? this.settings.svg.prev : "", n = q(this.settings.svg, "close") ? this.settings.svg.close : "", s = this.settings.lightboxHTML; s = T(s = (s = (s = s.replace(/{nextSVG}/g, t)).replace(/{prevSVG}/g, i)).replace(/{closeSVG}/g, n)), document.body.appendChild(s); var l = document.getElementById("glightbox-body"); this.modal = l; var r = l.querySelector(".gclose"); this.prevButton = l.querySelector(".gprev"), this.nextButton = l.querySelector(".gnext"), this.overlay = l.querySelector(".goverlay"), this.loader = l.querySelector(".gloader"), this.slidesContainer = document.getElementById("glightbox-slider"), this.events = {}, f(this.modal, "glightbox-" + this.settings.skin), this.settings.closeButton && r && (this.events.close = v("click", { onElement: r, withCallback: function (t, i) { t.preventDefault(), e.close() } })), r && !this.settings.closeButton && r.parentNode.removeChild(r), this.nextButton && (this.events.next = v("click", { onElement: this.nextButton, withCallback: function (t, i) { t.preventDefault(), e.nextSlide() } })), this.prevButton && (this.events.prev = v("click", { onElement: this.prevButton, withCallback: function (t, i) { t.preventDefault(), e.prevSlide() } })), this.settings.closeOnOutsideClick && (this.events.outClose = v("click", { onElement: l, withCallback: function (t, i) { e.preventOutsideClick || m(document.body, "glightbox-mobile") || y(t.target, ".ginner-container") || y(t.target, ".gbtn") || m(t.target, "gnext") || m(t.target, "gprev") || e.close() } })), u(this.elements, (function (t, i) { e.slidesContainer.appendChild(t.instance.create()), t.slideNode = e.slidesContainer.querySelectorAll(".gslide")[i] })), ne && f(document.body, "glightbox-touch"), this.events.resize = v("resize", { onElement: window, withCallback: function () { e.resize() } }), this.built = !0 } }, { key: "resize", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null; if ((e = e || this.activeSlide) && !m(e, "zoomed")) { var t = k(), i = e.querySelector(".gvideo-wrapper"), n = e.querySelector(".gslide-image"), s = this.slideDescription, l = t.width, r = t.height; if (l <= 768 ? f(document.body, "glightbox-mobile") : p(document.body, "glightbox-mobile"), i || n) { var o = !1; if (s && (m(s, "description-bottom") || m(s, "description-top")) && !m(s, "gabsolute") && (o = !0), n) if (l <= 768) { var a = n.querySelector("img"); a.setAttribute("style", "") } else if (o) { var h = s.offsetHeight, c = n.querySelector("img"); c.setAttribute("style", "max-height: calc(100vh - ".concat(h, "px)")), s.setAttribute("style", "max-width: ".concat(c.offsetWidth, "px;")) } if (i) { var d = q(this.settings.plyr.config, "ratio") ? this.settings.plyr.config.ratio : "16:9", u = d.split(":"), g = 900, v = g / (parseInt(u[0]) / parseInt(u[1])); if (v = Math.floor(v), o && (r -= s.offsetHeight), r < v && l > g) { var y = i.offsetWidth, x = i.offsetHeight, b = r / x, S = { width: y * b, height: x * b }; i.parentNode.setAttribute("style", "max-width: ".concat(S.width, "px")), o && s.setAttribute("style", "max-width: ".concat(S.width, "px;")) } else i.parentNode.style.maxWidth = "".concat(g, "px"), o && s.setAttribute("style", "max-width: ".concat(g, "px;")) } } } } }, { key: "reload", value: function () { this.init() } }, { key: "updateNavigationClasses", value: function () { var e = this.loop(); p(this.nextButton, "disabled"), p(this.prevButton, "disabled"), 0 == this.index && this.elements.length - 1 == 0 ? (f(this.prevButton, "disabled"), f(this.nextButton, "disabled")) : 0 !== this.index || e ? this.index !== this.elements.length - 1 || e || f(this.nextButton, "disabled") : f(this.prevButton, "disabled") } }, { key: "loop", value: function () { var e = q(this.settings, "loopAtEnd") ? this.settings.loopAtEnd : null; return e = q(this.settings, "loop") ? this.settings.loop : e, e } }, { key: "close", value: function () { var e = this; if (!this.lightboxOpen) { if (this.events) { for (var t in this.events) this.events.hasOwnProperty(t) && this.events[t].destroy(); this.events = null } return !1 } if (this.closing) return !1; this.closing = !0, this.slidePlayerPause(this.activeSlide), this.fullElementsList && (this.elements = this.fullElementsList), f(this.modal, "glightbox-closing"), x(this.overlay, "none" == this.settings.openEffect ? "none" : this.settings.cssEfects.fade.out), x(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, (function () { if (e.activeSlide = null, e.prevActiveSlideIndex = null, e.prevActiveSlide = null, e.built = !1, e.events) { for (var t in e.events) e.events.hasOwnProperty(t) && e.events[t].destroy(); e.events = null } var i = document.body; p(se, "glightbox-open"), p(i, "glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"), e.modal.parentNode.removeChild(e.modal), e.trigger("close"), I(e.settings.onClose) && e.settings.onClose(); var n = document.querySelector(".gcss-styles"); n && n.parentNode.removeChild(n), e.lightboxOpen = !1, e.closing = null })) } }, { key: "destroy", value: function () { this.close(), this.clearAllEvents(), this.baseEvents && this.baseEvents.destroy() } }, { key: "on", value: function (e, t) { var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; if (!e || !I(t)) throw new TypeError("Event name and callback must be defined"); this.apiEvents.push({ evt: e, once: i, callback: t }) } }, { key: "once", value: function (e, t) { this.on(e, t, !0) } }, { key: "trigger", value: (n = regeneratorRuntime.mark((function e(t) { var i, n, s, r, o, a, c, d, g, v, f = this, p = arguments; return regeneratorRuntime.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: i = p.length > 1 && void 0 !== p[1] ? p[1] : null, n = [], s = h(this.apiEvents.entries()), e.prev = 3, s.s(); case 5: if ((r = s.n()).done) { e.next = 16; break } if (o = l(r.value, 2), a = o[0], c = o[1], d = c.evt, g = c.once, v = c.callback, d != t) { e.next = 14; break } return console.log(i), e.next = 12, v(i); case 12: console.log(i), g && n.push(a); case 14: e.next = 5; break; case 16: e.next = 21; break; case 18: e.prev = 18, e.t0 = e.catch(3), s.e(e.t0); case 21: return e.prev = 21, s.f(), e.finish(21); case 24: n.length && u(n, (function (e) { return f.apiEvents.splice(e, 1) })); case 25: case "end": return e.stop() } }), e, this, [[3, 18, 21, 24]]) })), r = function () { var e = this, i = arguments; return new Promise((function (s, l) { var r = n.apply(e, i); function o(e) { t(r, s, l, o, a, "next", e) } function a(e) { t(r, s, l, o, a, "throw", e) } o(void 0) })) }, function (e) { return r.apply(this, arguments) }) }, { key: "clearAllEvents", value: function () { this.apiEvents.splice(0, this.apiEvents.length) } }, { key: "version", value: function () { return "3.0.7" } }]), e }(); return function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = new re(e); return t.init(), t } }));
